<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Email Extractor</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="header">
        <img src="assets/icon-128.png" alt="Auto Email Sender">
        <div class="header-content">
            <div class="header-content">
                <h1>Email Extractor</h1>
                <p>Extract email addresses from all open tabs.</p>
            </div>
        </div>
        <button id="reset" class="round" title="Reset all data" style="font-size:18px;line-height:1;">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none"
                style="vertical-align:middle;">
                <path d="M14.5 10A4.5 4.5 0 1 1 10 5.5h4m0 0-2-2m2 2-2 2" stroke="#FFF" stroke-width="1.6"
                    stroke-linecap="round" stroke-linejoin="round" />
            </svg>
        </button>
    </div>

    <div class="container">
        <div class="section">
            <h2>GitHub Configuration</h2>
            <div class="row" style="margin-bottom: 8px;">
                <label for="token">API Token:</label>
                <input type="password" id="token" placeholder="GitHub personal access token"
                    style="flex: 1; min-width: 200px;" />
            </div>
        </div>
        <div class="section">
            <h2>Search GitHub Users</h2>
            <div id="totalUrlCount">0 URLs</div>
            <div class="row">
                <label for="keyword">Keyword:</label>
                <input id="keyword" placeholder="keyword" />
            </div>
            <div class="row">
                <label for="startTime">Start:</label>
                <input type="date" id="startTime" />
                <label for="endTime">End:</label>
                <input type="date" id="endTime" />
            </div>
            <div class="row">
                <button id="search">Search</button>
                <button id="stopSearch" style="display: none;">Stop Search</button>
                <div id="count">(0)</div>
            </div>
            <div id="status"></div>
            <div id="apiUrl" style="display: none;"></div>
        </div>

        <div class="section" style="margin-bottom: 0;">
            <h2>Search Emails</h2>
            <div class="row">
                <div id="totalEmailCount">Emails: 0</div>
                <span id="emailCountIndicator" class="status-indicator green"></span>
            </div>
            <div class="row">
                <input type="number" id="openUrlCount" value="10" min="1" style="width: 50px;" />
                <label id="todoUrlCount">/ 0</label>
                <button id="openUrl">Open URL</button>
                <button id="scanMail" disabled="true">Scan Emails</button>
                <button id="closeGithubTabs" disabled="true">Close Tabs</button>
            </div>
            <div class="row">
                <textarea id="manualEmails" placeholder="Enter emails (one per line or comma-separated)"></textarea>
                <div style="margin-top: 8px;">
                    <button id="addEmails">Add Emails</button>
                </div>    
            </div>
            <div class="row">
                <input type="number" id="copyEmailCount" value="10" min="1" style="width: 50px;" />
                <div id="todoEmailCount">/ 0</div>
                <button id="copyEmail">Copy Email</button>
            </div>
        </div>
    </div>

    <script src="popup.js"></script>
</body>

</html>